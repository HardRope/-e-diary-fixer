# e-diary-fixer

Данный скрипт был создан для редактирования отметок и комментариев учителей,
оставленных в электронном дневнике школы. 

Скрипт умеет находить ученика по ФИО в базе сайта, исправлять неудовлетворительные отметки,
стирать замечание от учителей и добавлять от них положительные комментарии. 

Во избежание ошибок, в случае совпадения имён, скрипт останавливает работу и выводит ошибку.

## Установка

Для запуска скрипта необходимо скачать его с репозитория и положить в основную директорию сайта.

Откройте консоль, перейдите в папку с сайтом и запустите `shell` командой:

```
python manage.py shell
```

В консоли выведется следующее:

```
Python 3.10.0 (tags/v3.10.0:b494f59, Oct  4 2021, 19:00:18) [MSC v.1929 64 bit (AMD64)] on win32
Type "help", "copyright", "credits" or "license" for more information.
(InteractiveConsole)
>>>
```

Далее введите в консоли 

```
import fix_script
```

Скрипт готов к работе!

## Как использовать

Использование скрипта подразумевает использование трёх функций `fix_marks()`, `remove_chastisements()` и
`create_commendation()`

### fix_marks('name')

Исправляет отметки ниже "3" на "5".

Принимает один аргумент - строку с именем. 

Для использования введите в `shell` функцию и передайте вместо `name` свои ФИО

```commandline
fix.fix_marks('Иванов Иван')

fix.fix_marks('Иванов Иван Иванович')
```

Может работать только с именем и/или фамилией, 
но в случае совпданеия имён с кем-либо из учеников возникнет ошибка.

### remove_chastisements('name')

Удаляет все замечания от учителей у выбранного ученика.

Работает по тому же принципу, что и `fix_marks()`

### create_commendation('name', 'lesson_name')

Создает в БД похвалу от учителя датированную последним уроком по выбранному предмету.

Возможные варианты сообщения от учителя содержатся в файле `praises.txt` и выбираются случайным образом.

Для ипользования необходимо ввести в аргументы функции фио ученика и название предмета

```commandline
fix.create_commendation('Фролов Иван', 'Матeматика')
```

Скрипт сам определит, какой учитель вёл данный предмет у ученика и создаст комментарий от его имени.

В случае неправильно введенного имени или названия предмета выведет ошибку

```commandline
Неправильное название предмета
Доступные предметы:
География, Музыка, Основы безопасности жизнедеятельности (ОБЖ), Правоведение...


Несуществующее имя, либо больше одного ученика с таким именем, уточните имя (введите ФИО)
```

### get_lessons()

Возвращает список названий доступных в БД предметов, отсортированный по алфавиту

## О проекте

Код написан в учебных целях — это урок в курсе по Python и веб-разработке на сайте [Devman](https://dvmn.org/)

Для запуска скрипта у себя на компьютере требуется развернуть сайт электронного дневника и установить зависимости.
Сайт работает с `Python version 3.7-3.8`

Репозиторий с электронным дневником находится [тут](https://github.com/devmanorg/e-diary/tree/master)

Так же потребуется файл БД с данными учителей, учеников и уроков